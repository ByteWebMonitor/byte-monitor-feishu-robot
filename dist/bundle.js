(()=>{var e={812:(e,t,n)=>{const o=n(229),r=n(988),i=n(533);function s(e,t){this.webhook=e,this.secret=t}e.exports=s,e.exports.default=s,s.prototype.sendImage=function(e){const t={msg_type:"image",content:{image_key:e}};return this.send(t)},s.prototype.sendRickText=function(e,t,n){const o={msg_type:"post",content:{post:{[n=r.exist(n)?n:"zh_cn"]:{title:e,content:t}}}};return this.send(o)},s.prototype.send=function(e){if(r.exist(this.secret)){const t=r.genTimeStamp(),n=o.genSign(t,this.secret);e.timestamp=t,e.sign=n}return i.post(this.webhook,{body:e})}},988:e=>{e.exports={genTimeStamp:function(){let e=Date.now();return String(e).slice(0,10)},exist:function(e){return null!=e},isString:function(e){return"string"==typeof e}}},533:(e,t,n)=>{const o=n(726),r=n(713),i=n(420),s=r.promisify(o.request);function u(){}function c(e,t){if(!i.isNumber(t)||t<0)throw new TypeError(`${e} is illegal, expect number and lt 0s`)}e.exports=new u,["get","post","put","patch","delete"].forEach((e=>{u.prototype[e]=function(t,n){return function(e,t={}){try{new URL(e)}catch(e){throw new TypeError("url is illegal, expect URL")}if(!i.isObject(t))throw new TypeError("option expect object");if(i.exist(t.timeout)&&c("timeout",t.timeout),i.exist(t.encoding)&&!Buffer.isEncoding(t.encoding))throw new TypeError("encoding is illegal");if(i.exist(t.headers)&&!i.isObject(t.headers))throw new TypeError("headers expect object");if(i.exist(t.keepAlive)&&!i.isBoolean(t.keepAlive))throw new TypeError("keepAlive expect boolean");i.exist(t.keepAliveTimeout)&&c("keepAliveTimeout",t.timeout)}(t,n),s(e.toUpperCase(),t,n)}}))},726:(e,t,n)=>{const o=n(490),r=n(3),i=n(827).URL,s=n(420);t.request=function(e,t,n={},u){s.isFunction(n)&&([u,n]=[n,{}]);const c=Buffer.isBuffer(n.body)?n.body:Buffer.from(JSON.stringify(n.body)||""),p="boolean"==typeof FULL_LOG||n.logOn;let a,f;p&&(a=n.log||console,f=1e3*Math.random()|0,a.info(`[${f}]request:${e} ${t} with query ${JSON.stringify(n.query)||""} and body ${c}`));const l=new i(t);if(!s.isEmpty(n.query)){const e=n.query;for(let t in e)e.hasOwnProperty(t)&&l.searchParams.set(t,e[t])}let h=r,y=443,g={"Content-Type":"application/json","Content-Length":c.length};s.isHttpProtocol(l.protocol)&&(h=o,y=80);const m=s.isEmpty(l.port)?y:l.port,d=l.pathname+l.search,w=s.merge(g,n.headers),x=s.isNumber(n.timeout)?n.timeout:5e3,b=s.isString(n.encoding)?n.encoding:"utf8",k=!!s.isBoolean(n.keepAlive)&&n.keepAlive,T=s.isNumber(n.keepAliveTimeout)?T:void 0,v=!!s.isBoolean(n.raw)&&n.raw,E=new h.Agent({keepAlive:k,timeout:n.keepAliveTimeout}),O={hostname:l.hostname,port:m,path:d,method:e,headers:w,timeout:x,agent:E},S=h.request(O,(e=>{let t=Buffer.alloc(0);e.on("data",(e=>{t=Buffer.concat([t,e],t.length+e.length)})),e.on("end",(()=>{let n={statusCode:e.statusCode,statusMessage:e.statusMessage,data:t};try{v||(n.data=JSON.parse(n.data.toString(b)))}catch(e){}return p&&a.info(`[${f}]response:${JSON.stringify(n)}`),u(null,n)}))}));S.on("timeout",(()=>{S.destroy()})),S.on("error",(e=>u(e,null))),S.write(c),S.end()}},420:e=>{function t(e){return"string"==typeof e}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){return null!=e}e.exports={isString:t,isNumber:function(e){return"number"==typeof e},exist:o,isEmpty:function(e){if(!o(e))return!0;if(Array.isArray(e)||n(e)||t(e)){for(let t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1},isHttpProtocol:function(e){return"http:"==e},isObject:n,isFunction:function(e){return"function"==typeof e},isMapValue:function(e,t){for(let n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0;return!1},isBoolean:function(e){return"boolean"==typeof e},merge:function e(...t){let r={};return t.forEach((t=>{if(n(t))for(let i in t)t.hasOwnProperty(i)&&(n(t[i])&&o(r[i])?r[i]=e(r[i],t[i]):r[i]=t[i])})),r}}},138:(e,t,n)=>{const o=n(812),r=n(988);e.exports=function(e){!function(e){const{webhook:t,secret:n}=e;if(!r.exist(t)||!r.isString(t))throw new TypeError("webhook is required and expect string");try{new URL(t)}catch(e){throw new TypeError("webhook expect URL")}if(r.exist(n)&&!r.isString(n))throw new TypeError("secret expect string")}(e);const{webhook:t,secret:n}=e;return new o(t,n)}},229:()=>{},490:()=>{},3:()=>{},827:()=>{},713:()=>{}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(138)})();